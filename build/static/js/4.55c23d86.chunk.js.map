{"version":3,"sources":["components/pages/ByIngridientPage.js"],"names":["ByIngridientPage","history","useHistory","params","useParams","useState","idIngredient","strIngredient","ingList","setIngList","meals","setMeals","ingredient","setIng","useEffect","fetchByIng","a","filterByIngredient","data","length","console","log","fetchIng","param","ingLister","changeURL","push","id","value","onChange","e","target","onBlur","map","ing"],"mappings":"kNAqEeA,UAhEU,WACvB,IAAMC,EAAUC,cACVC,EAASC,cAEf,EAA8BC,mBAAS,CACrC,CAAEC,aAAc,IAAKC,cAAe,aADtC,mBAAOC,EAAP,KAAgBC,EAAhB,KAGA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAA6BN,mBAAS,IAAtC,mBAAOO,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,WACR,IAAMC,EAAU,uCAAG,4BAAAC,EAAA,sEACEC,YAAmBL,GADrB,UACXM,EADW,OAES,IAAtBN,EAAWO,OAFE,0EAGVR,EAASO,IAHC,2CAAH,qDAKG,KAAfN,IACFQ,QAAQC,IAAI,eACZC,KAEEnB,EAAOoB,OACTV,EAAOV,EAAOoB,OAEhBR,MACC,CAACH,EAAYT,IAEhB,IAAMmB,EAAQ,uCAAG,4BAAAN,EAAA,sEACIQ,cADJ,OACTN,EADS,OAEfT,EAAWS,GAFI,2CAAH,qDAIRO,EAAY,WAChBxB,EAAQyB,KAAK,kBAEf,OACE,qCACE,0DACA,8BACE,yBACEC,GAAG,WACHC,MAAOhB,EACPiB,SAAU,SAACC,GACTjB,EAAOiB,EAAEC,OAAOH,OAChBH,KAEFO,OAAQ,SAACF,GACPjB,EAAOiB,EAAEC,OAAOH,OAChBH,KATJ,UAYE,2BACCjB,EAAQyB,KAAI,SAACC,GAAD,OACX,wBAAQN,MAAOM,EAAI3B,cAAnB,SACG2B,EAAI3B,eADgC2B,EAAI5B,sBAMjD,8BACE,cAAC,IAAD,CAAUI,MAAOA","file":"static/js/4.55c23d86.chunk.js","sourcesContent":["import { ingLister, filterByIngredient } from \"../MealDB/MealDB\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport MealList from \"../Meals/MealList\";\r\n\r\nconst ByIngridientPage = () => {\r\n  const history = useHistory();\r\n  const params = useParams();\r\n\r\n  const [ingList, setIngList] = useState([\r\n    { idIngredient: \"1\", strIngredient: \"Chicken\" },\r\n  ]);\r\n  const [meals, setMeals] = useState([]);\r\n  const [ingredient, setIng] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchByIng = async () => {\r\n      const data = await filterByIngredient(ingredient);\r\n      if (ingredient.length === 0) return;\r\n      return setMeals(data);\r\n    };\r\n    if (ingredient === \"\") {\r\n      console.log(\"fetching...\");\r\n      fetchIng();\r\n    }\r\n    if (params.param) {\r\n      setIng(params.param);\r\n    }\r\n    fetchByIng();\r\n  }, [ingredient, params]);\r\n\r\n  const fetchIng = async () => {\r\n    const data = await ingLister();\r\n    setIngList(data);\r\n  };\r\n  const changeURL = () => {\r\n    history.push(\"/ingredients/\");\r\n  };\r\n  return (\r\n    <>\r\n      <div> Select an ingredient: </div>\r\n      <div>\r\n        <select\r\n          id=\"category\"\r\n          value={ingredient}\r\n          onChange={(e) => {\r\n            setIng(e.target.value);\r\n            changeURL();\r\n          }}\r\n          onBlur={(e) => {\r\n            setIng(e.target.value);\r\n            changeURL();\r\n          }}\r\n        >\r\n          <option />\r\n          {ingList.map((ing) => (\r\n            <option value={ing.strIngredient} key={ing.idIngredient}>\r\n              {ing.strIngredient}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <MealList meals={meals} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ByIngridientPage;\r\n"],"sourceRoot":""}